{% extends "patterns/base_page.html" %}
{% load static %}

{% block main_content %}
<div class="bg-plotly-bg relative h-full overflow-hidden">
  <a class="absolute font-bold font-mono hover:brightness-125 left-2 top-2 z-10 text-hl-tertiary" href="{{ back_url|default:'..' }}"><svg class="feather inline mr-2"><use href="{% static 'icons/feather-sprite.svg#arrow-left' %}" /></svg>Return to main page</a>
  {% if has_chapter_filter %}
  {% include "patterns/molecules/chapter_filter_form.html" %}
  {% endif %}

  {% if chart %}
  <iframe
    class="interactive-chart animate-pop-in-fast motion-reduce:animate-fade-in-fast w-full h-full"
    srcdoc='{{ chart }}'
  ></iframe>
  <script src={% static "js/interactive_chart.js" %}></script>
  {% elif chart_path %}
  <iframe
    class="interactive-chart animate-pop-in-fast motion-reduce:animate-fade-in-fast"
    src="{{ chart_path }}"
    width="100%"
    height="100%"
  ></iframe>
  {% else %}
  <div class="flex h-full justify-center pt-32 pl-4 bg-bg-primary">
    <h1 class="font-mono text-warn text-7xl text-center">NO DATA</h1>
  </div>
  {% endif %}
</div>

{% endblock main_content %}
